# Release Guide

This repository is configured to publish plugin updates via GitHub releases.

## What Gets Released
- The GitHub Action packages `meta-offline-conversions/` into `meta-offline-conversions.zip`.
- The release asset is used by the Plugin Update Checker.

## Install From GitHub Release
- In WordPress, upload the release asset file: `meta-offline-conversions.zip`.
- Do not upload GitHub's auto-generated `Source code (zip)` file. That archive is not a direct WordPress plugin package.

## Release Steps
1. Update the plugin version:
   - Manual: edit `meta-offline-conversions/meta-offline-conversions.php`
   - Script: `./scripts/bump-version.sh 1.0.1`
2. Commit your changes.
3. Create and push a tag:

```bash
git tag -a v1.0.1 -m "Release v1.0.1"
git push origin v1.0.1
```

## Optional: Create Tag Automatically
```bash
./scripts/bump-version.sh 1.0.1 --tag
git push origin v1.0.1
```

## Makefile Shortcuts
```bash
make bump VERSION=1.0.1
make tag VERSION=1.0.1
make zip
make changelog VERSION=1.0.1
make release VERSION=1.0.1
make release-all VERSION=1.0.1 MESSAGE="Release v1.0.1"
make release-all-push VERSION=1.0.1 MESSAGE="Release v1.0.1"
```

## Optional: Local Zip Build
```bash
./scripts/build-release.sh
```

## Private Repository
If the repository is private, set this in `wp-config.php` on the site:

```php
define('MOC_GITHUB_TOKEN', 'your_token');
```

## Notes
- The workflow runs on tags matching `v*`.
- Release notes are auto-generated by GitHub.
